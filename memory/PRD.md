# Transfers Admin Panel - PRD

## Original Problem Statement
إكمال لوحة تحكم Admin Panel لتطبيق ترانسفيرز - تطبيق مشابه لـ Careem/Uber يشمل خدمة الرحلات والتوصيل. المطلوب: إدارة المستخدمين، السائقين، المطاعم، الرحلات، الطلبات، العروض، الإعدادات. دعم عربي/إنجليزي RTL. نظام عملات متعدد (12 دولة).

### آخر تحديث (2026-01-31)
- إضافة خاصية الستوري (Stories) مع عارض وإمكانية إضافة ستوري جديد (صورة/نص)
- إضافة التخزين السحابي (Cloud Storage) مع إدارة الملفات
- إضافة تبويب الأرشيف بجانب المجموعات والقنوات
- تحسين وظائف التعديل والحذف والأرشفة للرسائل والمحادثات

## User Personas
1. **مدير النظام (Super Admin)**: صلاحيات كاملة لإدارة جميع جوانب التطبيق
2. **مشرف العمليات**: مراقبة الرحلات والطلبات
3. **مدير التسويق**: إدارة العروض والكوبونات
4. **المستخدم العادي**: استخدام تطبيق الدردشة والرحلات

## Core Requirements (Static)
- ✅ تسجيل دخول آمن للمشرفين
- ✅ لوحة تحكم بإحصائيات ورسوم بيانية
- ✅ إدارة المستخدمين (عرض، تفعيل، حظر)
- ✅ إدارة السائقين (عرض، توثيق، تفعيل/إيقاف)
- ✅ إدارة المطاعم (عرض، فتح/إغلاق)
- ✅ متابعة الرحلات
- ✅ متابعة الطلبات
- ✅ إدارة العروض والكوبونات (CRUD)
- ✅ صفحة الإعدادات
- ✅ دعم RTL للغة العربية
- ✅ تصميم Dark Theme عصري

## What's Been Implemented (2026-01-31)

### New Features - Chat Page
- ✅ **خاصية الستوري (Stories)**
  - عرض ستوريات المستخدمين في الشريط العلوي
  - عارض ستوري متكامل (Story Viewer) مع شريط تقدم
  - إضافة ستوري جديد (صورة أو نص مع ألوان متعددة)
  - عرض عدد المشاهدات
  
- ✅ **التخزين السحابي (Cloud Storage)**
  - عرض المساحة المستخدمة
  - فلترة الملفات حسب النوع (صور، فيديو، صوت، مستندات)
  - رفع ملفات جديدة
  - حذف الملفات
  
- ✅ **تبويب الأرشيف**
  - تبويب منفصل للمحادثات المؤرشفة
  - عداد للمحادثات المؤرشفة
  - إمكانية إلغاء الأرشفة
  
- ✅ **تحسينات الرسائل**
  - تعديل الرسائل
  - حذف الرسائل (من طرف واحد أو الطرفين)
  - قائمة سياق محسنة

### Previous Features
- صفحة الدردشة بتصميم Telegram الاحترافي
- تصميم متوافق مع الهاتف (Mobile Responsive)
- رسالة خطأ واضحة عند كلمة المرور الخاطئة
- صفحة استعادة كلمة المرور عبر رقم الهاتف
- زر لوحة التحكم للمدير

### Pages
- `/login` - صفحة تسجيل الدخول
- `/forgot-password` - صفحة استعادة كلمة المرور
- `/chat` - صفحة الدردشة (مع ستوري وتخزين سحابي)
- `/admin` - لوحة التحكم الرئيسية
- `/admin/users` - إدارة المستخدمين
- `/admin/drivers` - إدارة السائقين
- `/admin/restaurants` - إدارة المطاعم
- `/admin/rides` - متابعة الرحلات
- `/admin/orders` - متابعة الطلبات
- `/admin/promotions` - إدارة العروض
- `/admin/settings` - الإعدادات

## Prioritized Backlog

### P0 - Critical (Next Phase)
1. ربط Backend مع MongoDB APIs
2. نظام المصادقة JWT الحقيقي
3. إدارة الجلسات والتوكنات

### P1 - High Priority
1. تخزين الستوريات في قاعدة البيانات
2. رفع الملفات الفعلي للتخزين السحابي
3. إشعارات Real-time للستوريات الجديدة

### P2 - Medium Priority
1. Google Maps Integration للخرائط
2. نظام الدفع الحقيقي
3. دعم اللغة الإنجليزية الكامل

## Technical Stack
- **Frontend**: React, Tailwind CSS, Shadcn/UI
- **Backend**: FastAPI (جاهز للربط)
- **Database**: MongoDB (جاهز للربط)
- **Icons**: Lucide React

## Next Tasks
1. [ ] ربط Stories API مع Backend
2. [ ] تنفيذ Cloud Storage API الفعلي
3. [ ] إضافة WebSocket للتحديثات الفورية
