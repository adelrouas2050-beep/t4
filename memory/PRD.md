# Transfers Admin Panel - PRD

## Original Problem Statement
إكمال لوحة تحكم Admin Panel لتطبيق ترانسفيرز - تطبيق مشابه لـ Careem/Uber يشمل خدمة الرحلات والتوصيل. المطلوب: إدارة المستخدمين، السائقين، المطاعم، الرحلات، الطلبات، العروض، الإعدادات. دعم عربي/إنجليزي RTL. نظام عملات متعدد (12 دولة).

### آخر تحديث (2026-01-30)
- تصحيح الأخطاء في صفحة تسجيل الدخول - إظهار رسالة خطأ عند إدخال كلمة مرور خاطئة
- إضافة زر لوحة التحكم وتسجيل الخروج للمدير في واجهة المستخدم
- إصلاح مشكلة خروج لوحة التحكم مباشرة (استخدام window.location.href)
- إضافة صفحة "نسيت كلمة المرور" مع استعادة عبر رقم الهاتف (3 خطوات)

## User Personas
1. **مدير النظام (Super Admin)**: صلاحيات كاملة لإدارة جميع جوانب التطبيق
2. **مشرف العمليات**: مراقبة الرحلات والطلبات
3. **مدير التسويق**: إدارة العروض والكوبونات

## Core Requirements (Static)
- ✅ تسجيل دخول آمن للمشرفين
- ✅ لوحة تحكم بإحصائيات ورسوم بيانية
- ✅ إدارة المستخدمين (عرض، تفعيل، حظر)
- ✅ إدارة السائقين (عرض، توثيق، تفعيل/إيقاف)
- ✅ إدارة المطاعم (عرض، فتح/إغلاق)
- ✅ متابعة الرحلات
- ✅ متابعة الطلبات
- ✅ إدارة العروض والكوبونات (CRUD)
- ✅ صفحة الإعدادات
- ✅ دعم RTL للغة العربية
- ✅ تصميم Dark Theme عصري

## What's Been Implemented (2026-01-30)

### Latest Updates
- ✅ صفحة الدردشة بتصميم Telegram الاحترافي
- ✅ تصميم متوافق مع الهاتف (Mobile Responsive)
- ✅ رسالة خطأ واضحة عند كلمة المرور الخاطئة
- ✅ صفحة استعادة كلمة المرور عبر رقم الهاتف
- ✅ زر لوحة التحكم للمدير
- ✅ تحسين Header على الشاشات الصغيرة

### Pages
- `/login` - صفحة تسجيل الدخول (مع رسائل خطأ)
- `/forgot-password` - صفحة استعادة كلمة المرور عبر الهاتف (جديد)
- `/admin` - لوحة التحكم الرئيسية (Dashboard)
- `/admin/users` - إدارة المستخدمين
- `/admin/drivers` - إدارة السائقين
- `/admin/restaurants` - إدارة المطاعم
- `/admin/rides` - متابعة الرحلات
- `/admin/orders` - متابعة الطلبات
- `/admin/promotions` - إدارة العروض
- `/admin/settings` - الإعدادات

### Components
- `Layout.jsx` - التخطيط الرئيسي
- `Sidebar.jsx` - القائمة الجانبية
- `AdminContext.js` - حالة التطبيق
- `AuthContext.js` - نظام المصادقة (مع validation للمدير)

### Features (الجديدة)
- ✅ رسالة خطأ واضحة عند إدخال كلمة مرور خاطئة في صفحة تسجيل الدخول
- ✅ زر المدير يظهر في header عند تسجيل الدخول بحساب admin@transfers.com
- ✅ قائمة منسدلة تحتوي على "لوحة التحكم" و "تسجيل الخروج"
- ✅ الانتقال إلى /admin عند الضغط على لوحة التحكم (تم الإصلاح)
- ✅ صفحة استعادة كلمة المرور عبر رقم الهاتف (3 خطوات)
- ✅ إرسال رمز التحقق SMS (محاكاة تجريبية)
- Protected Routes للصفحات المحمية
- فلترة وبحث في الجداول
- إضافة عروض جديدة (Dialog)
- تغيير حالة العناصر (تفعيل/حظر)
- توثيق السائقين
- Responsive Design

## Prioritized Backlog

### P0 - Critical (Next Phase)
1. ربط Backend مع MongoDB APIs
2. نظام المصادقة JWT الحقيقي
3. إدارة الجلسات والتوكنات

### P1 - High Priority
1. إضافة/تعديل/حذف المستخدمين
2. صفحات تفاصيل (User/Driver/Restaurant Details)
3. تقارير PDF قابلة للتصدير
4. إشعارات Real-time

### P2 - Medium Priority
1. Google Maps Integration للخرائط
2. نظام الدفع الحقيقي
3. دعم اللغة الإنجليزية الكامل
4. Dark/Light theme toggle

## Technical Stack
- **Frontend**: React, Tailwind CSS, Shadcn/UI
- **Backend**: FastAPI (جاهز للربط)
- **Database**: MongoDB (جاهز للربط)
- **Icons**: Lucide React

## Next Tasks
1. [ ] إنشاء Backend APIs للـ CRUD operations
2. [ ] ربط صفحات Frontend مع APIs
3. [ ] إضافة JWT Authentication
4. [ ] WebSocket للإشعارات الفورية
